<!--
File Name: Lab7.html
Student Name: Zach Warcola
Description: Project to explore use of the canvas element
-->

<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Lab7</title>
  </head>

  <canvas id="cvs" width="600"height="600" style="border:1px solid #000000;"> </canvas>

  <body>
      <script type="text/javascript">
            let starBuilder = (function(){ //iife function to hold our code

              const canvas = document.getElementById('cvs');
              const ctx = canvas.getContext('2d');

              let getMousePos = function(canvas, event){ //function to get and format current mouse position
                let rect = canvas.getBoundingClientRect();
                return{
                  x: event.clientX - rect.left,
                  y: event.clientY - rect.top
                };
              }

              let drawStar = function(cx, cy, radius, npoints, ctx){ //function to draw the actual star

                let delta = 360/(2*npoints);
                let theta = (-90);
                let r = radius;

                ctx.beginPath();
                ctx.moveTo(radius, theta);
                for(let i = 0; i < (2*npoints); i++){
                  theta += delta;
                  if(i % 2 === 0){
                    r = radius * 0.5;
                  }
                  else{
                    r = radius;
                  }
                  //(r, theta) to (x, y)
                  let x = (r*Math.cos(theta*(Math.PI/180)) + cx);
                  let y = (r*Math.sin(theta*(Math.PI/180)) + cy);
                  ctx.lineTo(x, y);
                }
                ctx.strokeStyle = '#000000';
                ctx.stroke();
                ctx.closePath();


              }

              canvas.addEventListener('click',
                                      function(event){
                                        let currPos = getMousePos(canvas, event); //get coordinates of click event
                                        drawStar(currPos.x, currPos.y, 100, 5, ctx);
                                      }
              ); //add event listener to canvas

            })();
      </script>
  </body>
</html>
